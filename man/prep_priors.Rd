% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prep_priors.R
\name{prep_priors}
\alias{prep_priors}
\title{Prepare priors}
\usage{
prep_priors(
  max_antigens,
  mu_hyp_param = c(1, 7, 1, -4, -1),
  prec_hyp_param = c(1, 1e-05, 1, 0.001, 1),
  omega_param = c(1, 50, 1, 10, 1),
  wishdf_param = 20,
  prec_logy_hyp_param = c(4, 1)
)
}
\arguments{
\item{max_antigens}{An \link{integer} specifying how many
antigen-isotypes (biomarkers) will be modeled.}

\item{mu_hyp_param}{A \link{numeric} \link{vector} of 5 values representing the prior
mean for the population level parameters
parameters (y0, y1, t1, r, alpha) for each biomarker.
If specified, must be 5 values long, representing the following parameters:
\itemize{
\item y0 = baseline antibody concentration (default = 1.0)
\item y1 = peak antibody concentration (default = 7.0)
\item t1 = time to peak (default = 1.0)
\item r = shape parameter (default = -4.0)
\item alpha = decay rate (default = -1.0)
}}

\item{prec_hyp_param}{A \link{numeric} \link{vector} of 5 values corresponding to
hyperprior diagonal entries for the precision matrix (i.e. inverse variance)
representing prior covariance of uncertainty around \code{mu_hyp_param}.
If specified, must be 5 values long:
\itemize{
\item defaults: y0 = 1.0, y1 = 0.00001, t1 = 1.0, r = 0.001, alpha = 1.0
}}

\item{omega_param}{A \link{numeric} \link{vector} of 5 values corresponding to the
diagonal entries representing the Wishart hyperprior
distributions of \code{prec_hyp_param}, describing how much we expect parameters
to vary between individuals.
If specified, must be 5 values long:
\itemize{
\item defaults: y0 = 1.0, y1 = 50.0, t1 = 1.0, r = 10.0, alpha = 1.0
}}

\item{wishdf_param}{An \link{integer} \link{vector} of 1 value specifying the degrees
of freedom for the Wishart hyperprior distribution of \code{prec_hyp_param}.
If specified, must be 1 value long.
\itemize{
\item default = 20.0
\item The value of \code{wishdf_param} controls how informative the Wishart prior
is. Higher values lead to tighter priors on individual variation.
Lower values (e.g., 5â€“10) make the prior more weakly informative,
which can help improve convergence if the model is over-regularized.
}}

\item{prec_logy_hyp_param}{A \link{numeric} \link{vector} of 2 values corresponding to
hyperprior diagonal entries on the log-scale for the precision matrix
(i.e. inverse variance) representing prior beliefs of individual variation.
If specified, must be 2 values long:
\itemize{
\item defaults = 4.0, 1.0
}}
}
\value{
A "curve_params_priors" object
(a subclass of \link{list} with the inputs to \code{prep_priors()} attached
as \link{attributes} entry named \code{"used_priors"}), containing the following
elements:
\itemize{
\item "n_params": Corresponds to the 5 parameters being estimated.
\item "mu.hyp": A \link{matrix} of hyperpriors with dimensions
\code{max_antigens} x 5 (# of parameters), representing the mean of the
hyperprior distribution for the five seroresponse parameters: y0, y1, t1, r, and alpha).
\item "prec.hyp": A three-dimensional \link{numeric} \link{array}
with dimensions \code{max_antigens} x 5 (# of parameters),
containing the precision matrices of the hyperprior distributions of
\code{mu.hyp}, for each biomarker.
\item "omega" : A three-dimensional \link{numeric} \link{array} with 5 \link{matrix},each
with dimensions \code{max_antigens} x 5 (# of parameters), representing the
precision matrix of Wishart hyper-priors for \code{prec.hyp}.
\item "wishdf": A \link{vector} of 2 values specifying the degrees of freedom
for the Wishart distribution used in the subject-level precision prior.
\item "prec.logy.hyp": A \link{matrix} of hyper-parameters for the precision
(inverse variance) of individual variation measuring
\code{max_antigens} x 2, on the log-scale.
\item \code{used_priors} = inputs to \code{prep_priors()} attached as attributes.
}
}
\description{
Takes multiple \link{vector} inputs to allow for modifiable priors.
Priors can be specified as an option in run_mod.
}
\examples{

prep_priors(max_antigens = 2,
            mu_hyp_param = c(1.0, 7.0, 1.0, -4.0, -1.0),
            prec_hyp_param = c(1.0, 0.00001, 1.0, 0.001, 1.0),
            omega_param = c(1.0, 50.0, 1.0, 10.0, 1.0),
            wishdf_param = 20,
            prec_logy_hyp_param = c(4.0, 1.0))

prep_priors(max_antigens = 2)
}
