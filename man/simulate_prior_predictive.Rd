% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_prior_predictive.R
\name{simulate_prior_predictive}
\alias{simulate_prior_predictive}
\title{Simulate antibody trajectories from priors only}
\usage{
simulate_prior_predictive(
  prepped_data,
  prepped_priors,
  n_sims = 1,
  seed = NULL
)
}
\arguments{
\item{prepped_data}{A \code{prepped_jags_data} object from \code{\link[=prep_data]{prep_data()}}}

\item{prepped_priors}{A \code{curve_params_priors} object from \code{\link[=prep_priors]{prep_priors()}}}

\item{n_sims}{\link{integer} Number of prior predictive simulations to generate
(default = 1). If > 1, returns a list of simulated datasets.}

\item{seed}{\link{integer} Optional random seed for reproducibility}
}
\value{
If \code{n_sims = 1}, a \code{prepped_jags_data} object with simulated
antibody values replacing the observed values. If \code{n_sims > 1}, a \link{list}
of such objects.
}
\description{
Performs a prior predictive check by simulating antibody trajectories and
measurements using only the prior distributions, before fitting the model
to data. This is useful for assessing whether priors generate realistic
antibody values for a given pathogen and assay.
}
\details{
This function:
\enumerate{
\item Draws kinetic parameters from the prior distributions specified by
\code{prep_priors()}
\item Generates latent antibody trajectories using the same within-host antibody
model used in the JAGS model
\item Applies measurement noise to simulate observed antibody values
\item Preserves the original dataset structure (IDs, biomarkers, timepoints)
}

The simulation follows the hierarchical model structure:
\itemize{
\item Population-level parameters are drawn from hyperpriors
\item Individual-level parameters are drawn from population distributions
\item Observations are generated with log-normal measurement error
}
}
\examples{
# Prepare data and priors
set.seed(1)
raw_data <- serocalculator::typhoid_curves_nostrat_100 |>
  sim_case_data(n = 5)
prepped_data <- prep_data(raw_data)
prepped_priors <- prep_priors(max_antigens = prepped_data$n_antigen_isos)

# Simulate from priors
sim_data <- simulate_prior_predictive(prepped_data, prepped_priors)

# Generate multiple simulations
sim_list <- simulate_prior_predictive(prepped_data, prepped_priors, n_sims = 10)
}
