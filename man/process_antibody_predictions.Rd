% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_antibody_predictions.R
\name{process_antibody_predictions}
\alias{process_antibody_predictions}
\title{Process Antibody Predictions and Compute Residuals}
\usage{
process_antibody_predictions(
  dat,
  param_medians_wide,
  file_mod,
  strat = "bldculres"
)
}
\arguments{
\item{dat}{The observed dataset.}

\item{param_medians_wide}{A tibble with median parameter estimates from \code{process_jags_output()}.}

\item{file_mod}{Path to the JAGS model file.}

\item{strat}{A character string specifying the stratification variable (default: \code{"bldculres"}).}
}
\value{
A tibble with processed JAGS posterior medians for re-running the model.
}
\description{
This function processes antibody predictions using JAGS posterior medians, computes residuals,
and prepares the dataset for model re-running. It also restores necessary attributes for compatibility.
}
\examples{
# Example usage of process_antibody_predictions()

# Ensure JAGS is available before running
if (!is.element(runjags::findjags(), c("", NULL))) {
  
  # Run JAGS model & process output
  results <- prepare_and_run_jags()
  dat <- results$dat
  jags_post <- results$jags_post
  param_medians <- process_jags_output(jags_post, remove_last_subject = TRUE)
  
  # Generate predicted antibody response
  predictions <- process_antibody_predictions(dat, param_medians)
  
  # Display results
  print(head(predictions))
}
}
\author{
Kwan Ho Lee
}
