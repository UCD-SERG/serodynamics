% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_jags_densitydx.R
\name{plot_jags_dens}
\alias{plot_jags_dens}
\title{Density Plot Diagnostics}
\usage{
plot_jags_dens(
  data,
  iso = unique(data$curve_params$Iso_type),
  param = unique(data$curve_params$Parameter_sub),
  strat = unique(data$curve_params$Stratification)
)
}
\arguments{
\item{data}{A \link{list} outputted from run_mod().}

\item{iso}{Specify \link{character} string to produce plots of only a
specific antigen/antibody combination, entered with quotes. Default outputs
all antigen/antibody combinations.}

\item{param}{Specify \link{character} string to produce plots of only a
specific parameter, entered with quotes. Options include:
\itemize{
\item \code{alpha} = posterior estimate of decay rate
\item \code{r} = posterior estimate of shape parameter
\item \code{t1} = posterior estimate of time to peak
\item \code{y0} = posterior estimate of baseline antibody concentration
\item \code{y1} = posterior estimate of peak antibody concentration
}}

\item{strat}{Specify \link{character} string to produce plots of specific
stratification entered in quotes.}
}
\value{
A \code{\link[base:list]{base::list()}} of \code{\link[ggplot2:ggplot]{ggplot2::ggplot()}} objects producing density
plots for all the specified input.
}
\description{
plot_jags_dens() takes a \link{list} output from \code{\link[=run_mod]{run_mod()}}
to create density plots for each chain run in the mcmc estimation.
Defaults will produce every combination of antigen/antibody, parameters,
and stratifications, unless otherwise specified.
Antigen/antibody combinations and stratifications will vary by analysis.
The antibody dynamic curve includes the following parameters:
\itemize{
\item y0 = baseline antibody concentration
\item y1 = peak antibody concentration
\item t1 = time to peak
\item r = shape parameter
\item alpha = decay rate
}
}
\examples{
if (!is.element(runjags::findjags(), c("", NULL))) {
  library(runjags)
  library(ggmcmc)
  set.seed(1)
  library(dplyr)
  strat1 <- serocalculator::typhoid_curves_nostrat_100 |>
    sim_case_data(n = 100) |>
    mutate(strat = "stratum 2")
  strat2 <- serocalculator::typhoid_curves_nostrat_100 |>
    sim_case_data(n = 100) |>
    mutate(strat = "stratum 1")

  Dataset <- bind_rows(strat1, strat2)

  jags_out <- run_mod(
    data = Dataset, # The data set input
    file_mod = fs::path_package("serodynamics", "extdata/model.jags"),
    nchain = 2, # Number of mcmc chains to run
    nadapt = 100, # Number of adaptations to run
    nburn = 100, # Number of unrecorded samples before sampling begins
    nmc = 500,
    niter = 1000, # Number of iterations
    strat = "strat"
  ) # Variable to be stratified
plot_jags_dens(
    data = jags_out, #A [serodynamics::run_mod()] [list] output.
    iso = "HlyE_IgA", #A [character] string specifying
    #nantigen/antibody of interest.
    param = "alpha",  #A [character] string specifying parameter of
    # interest.
    strat = "stratum 1")  #A [character] string specifying
    # stratification of interest.
    }
}
\author{
Sam Schildhauer
}
