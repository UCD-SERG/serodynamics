<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Development Guide for serodynamics ‚Ä¢ serodynamics</title><script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Development Guide for serodynamics"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">serodynamics</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9047</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/getting-started.html">Getting Started with serodynamics</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/UCD-SERG/serodynamics/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Development Guide for serodynamics</h1>
      <small class="dont-index">Source: <a href="https://github.com/UCD-SERG/serodynamics/blob/copilot/sub-pr-163-again/DEVELOPMENT.md" class="external-link"><code>DEVELOPMENT.md</code></a></small>
    </div>

<div id="development-guide-for-serodynamics" class="section level1">

<p>This guide provides comprehensive information on setting up your development environment and contributing to the serodynamics R package.</p>
<div class="section level2">
<h2 id="table-of-contents">Table of Contents<a class="anchor" aria-label="anchor" href="#table-of-contents"></a></h2>
<ol style="list-style-type: decimal"><li><a href="#quick-start">Quick Start</a></li>
<li><a href="#development-environment-setup">Development Environment Setup</a></li>
<li><a href="#model-context-protocol-mcp">Model Context Protocol (MCP)</a></li>
<li><a href="#development-workflow">Development Workflow</a></li>
<li><a href="#testing-and-quality-assurance">Testing and Quality Assurance</a></li>
<li><a href="#contributing">Contributing</a></li>
</ol></div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a></h2>
<div class="section level3">
<h3 id="option-1-dev-container-recommended">Option 1: Dev Container (Recommended)<a class="anchor" aria-label="anchor" href="#option-1-dev-container-recommended"></a></h3>
<p>The fastest way to get started with a fully configured environment:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Prerequisites: Docker Desktop and VS Code with Dev Containers extension</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="co"># 1. Open this repository in VS Code</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="co"># 2. Click "Reopen in Container" when prompted</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="co"># 3. Wait for the container to build (~5-10 minutes first time)</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="co"># 4. Start developing!</span></span></code></pre></div>
<p>See <a href=".devcontainer/README.html">.devcontainer/README.md</a> for details.</p>
</div>
<div class="section level3">
<h3 id="option-2-local-setup">Option 2: Local Setup<a class="anchor" aria-label="anchor" href="#option-2-local-setup"></a></h3>
<p>If you prefer to install dependencies locally, follow the <a href="#critical-setup-requirements">Critical Setup Requirements</a> section.</p>
</div>
</div>
<div class="section level2">
<h2 id="development-environment-setup">Development Environment Setup<a class="anchor" aria-label="anchor" href="#development-environment-setup"></a></h2>
<div class="section level3">
<h3 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a></h3>
<ul><li>
<strong>R</strong> (&gt;= 4.1.0) - Statistical computing language</li>
<li>
<strong>JAGS</strong> (&gt;= 4.3.1) - Just Another Gibbs Sampler for Bayesian MCMC</li>
<li>
<strong>Git</strong> - Version control</li>
<li>
<strong>Node.js</strong> (optional) - For MCP server support</li>
<li>
<strong>RStudio</strong> or <strong>VS Code</strong> - Recommended IDEs</li>
</ul></div>
<div class="section level3">
<h3 id="critical-setup-requirements">Critical Setup Requirements<a class="anchor" aria-label="anchor" href="#critical-setup-requirements"></a></h3>
<div class="section level4">
<h4 id="id_1-install-r">1. Install R<a class="anchor" aria-label="anchor" href="#id_1-install-r"></a></h4>
<p><strong>Ubuntu/Linux:</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">sudo</span> apt-get update</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">sudo</span> apt-get install <span class="at">-y</span> software-properties-common dirmngr</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">wget</span> <span class="at">-qO-</span> https://cloud.r-project.org/bin/linux/ubuntu/marutter.asc <span class="kw">|</span> <span class="fu">sudo</span> tee <span class="at">-a</span> /etc/apt/trusted.gpg.d/cran_ubuntu_key.asc</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="fu">sudo</span> add-apt-repository <span class="st">"deb https://cloud.r-project.org/bin/linux/ubuntu </span><span class="va">$(</span><span class="ex">lsb_release</span> <span class="at">-cs</span><span class="va">)</span><span class="st">-cran40/"</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="fu">sudo</span> apt-get update</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="fu">sudo</span> apt-get install <span class="at">-y</span> r-base r-base-dev</span></code></pre></div>
<p><strong>macOS:</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">brew</span> install r</span></code></pre></div>
<p><strong>Windows:</strong> Download from <a href="https://cran.r-project.org/bin/windows/base/" class="external-link uri">https://cran.r-project.org/bin/windows/base/</a></p>
</div>
<div class="section level4">
<h4 id="id_2-install-jags">2. Install JAGS<a class="anchor" aria-label="anchor" href="#id_2-install-jags"></a></h4>
<p><strong>Ubuntu/Linux:</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">sudo</span> apt-get update <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> apt-get install <span class="at">-y</span> jags</span></code></pre></div>
<p><strong>macOS:</strong> Download from <a href="https://sourceforge.net/projects/mcmc-jags/files/JAGS/4.x/Mac%20OS%20X/JAGS-4.3.1.pkg" class="external-link uri">https://sourceforge.net/projects/mcmc-jags/files/JAGS/4.x/Mac%20OS%20X/JAGS-4.3.1.pkg</a></p>
<p><strong>Windows:</strong> Download from <a href="https://sourceforge.net/projects/mcmc-jags/files/JAGS/4.x/Windows/JAGS-4.3.1.exe" class="external-link uri">https://sourceforge.net/projects/mcmc-jags/files/JAGS/4.x/Windows/JAGS-4.3.1.exe</a></p>
</div>
<div class="section level4">
<h4 id="id_3-install-system-dependencies-linuxmacos">3. Install System Dependencies (Linux/macOS)<a class="anchor" aria-label="anchor" href="#id_3-install-system-dependencies-linuxmacos"></a></h4>
<p><strong>Ubuntu/Linux:</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">sudo</span> apt-get install <span class="at">-y</span> <span class="dt">\</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  libcurl4-openssl-dev <span class="dt">\</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  libssl-dev <span class="dt">\</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  libxml2-dev <span class="dt">\</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>  libfontconfig1-dev <span class="dt">\</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>  libharfbuzz-dev <span class="dt">\</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>  libfribidi-dev <span class="dt">\</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>  libfreetype6-dev <span class="dt">\</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>  libpng-dev <span class="dt">\</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>  libtiff5-dev <span class="dt">\</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>  libjpeg-dev</span></code></pre></div>
<p><strong>macOS:</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">brew</span> install pkg-config cairo</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_4-install-r-development-packages">4. Install R Development Packages<a class="anchor" aria-label="anchor" href="#id_4-install-r-development-packages"></a></h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install devtools</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span>, repos <span class="op">=</span> <span class="st">"https://cloud.r-project.org"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install all package dependencies</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_dev_deps</span><span class="op">(</span>dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install rjags from source</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rjags"</span>, repos <span class="op">=</span> <span class="st">"https://cloud.r-project.org"</span>, type <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="id_5-verify-installation">5. Verify Installation<a class="anchor" aria-label="anchor" href="#id_5-verify-installation"></a></h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mcmc-jags.sourceforge.io" class="external-link">rjags</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ku-awdc/runjags" class="external-link">runjags</a></span><span class="op">)</span></span>
<span><span class="fu">runjags</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/runjags/man/testjags.html" class="external-link">testjags</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># Should show JAGS is working</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="vs-code-configuration">VS Code Configuration<a class="anchor" aria-label="anchor" href="#vs-code-configuration"></a></h3>
<p>The repository includes pre-configured VS Code settings in <code>.vscode/</code>:</p>
<ul><li>
<strong>settings.json</strong> - R-specific editor settings, file associations</li>
<li>
<strong>extensions.json</strong> - Recommended extensions for R development</li>
<li>
<strong>tasks.json</strong> - Quick tasks for common operations</li>
</ul><div class="section level4">
<h4 id="recommended-extensions">Recommended Extensions<a class="anchor" aria-label="anchor" href="#recommended-extensions"></a></h4>
<p>Open VS Code and install the recommended extensions: - R Debugger (<code>rdebugger.r-debugger</code>) - R Language Support (<code>reditorsupport.r</code>) - GitHub Copilot (<code>github.copilot</code>) - GitHub Copilot Chat (<code>github.copilot-chat</code>) - Quarto (<code>quarto.quarto</code>) - YAML (<code>redhat.vscode-yaml</code>) - Markdown All in One (<code>yzhang.markdown-all-in-one</code>) - Code Spell Checker (<code>streetsidesoftware.code-spell-checker</code>) - GitLens (<code>eamodio.gitlens</code>)</p>
</div>
<div class="section level4">
<h4 id="using-vs-code-tasks">Using VS Code Tasks<a class="anchor" aria-label="anchor" href="#using-vs-code-tasks"></a></h4>
<p>Press <code>Ctrl+Shift+P</code> (or <code>Cmd+Shift+P</code> on macOS) and select ‚ÄúTasks: Run Task‚Äù:</p>
<ul><li>
<strong>R: Load Package</strong> - Load package in development mode</li>
<li>
<strong>R: Document Package</strong> - Generate documentation from roxygen2 comments</li>
<li>
<strong>R: Run Tests</strong> - Execute all tests</li>
<li>
<strong>R: Check Package</strong> - Run R CMD check</li>
<li>
<strong>R: Lint Package</strong> - Check code style</li>
<li>
<strong>R: Spell Check</strong> - Check spelling</li>
<li>
<strong>R: Build README</strong> - Render README.Rmd</li>
<li>
<strong>R: Install Dependencies</strong> - Install all package dependencies</li>
</ul></div>
</div>
</div>
<div class="section level2">
<h2 id="model-context-protocol-mcp">Model Context Protocol (MCP)<a class="anchor" aria-label="anchor" href="#model-context-protocol-mcp"></a></h2>
<p>The repository includes MCP server configurations in <code>.github/mcp/mcp-config.json</code> that enhance AI-assisted development.</p>
<div class="section level3">
<h3 id="configured-mcp-servers">Configured MCP Servers<a class="anchor" aria-label="anchor" href="#configured-mcp-servers"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>Filesystem Server</strong> - Read/write repository files, search code</li>
<li>
<strong>GitHub Server</strong> - Check CI/CD status, manage PRs and issues</li>
<li>
<strong>Git Server</strong> - Version control operations (status, diff, commit)</li>
<li>
<strong>Brave Search Server</strong> - Look up R documentation and CRAN resources</li>
</ol></div>
<div class="section level3">
<h3 id="setup-mcp">Setup MCP<a class="anchor" aria-label="anchor" href="#setup-mcp"></a></h3>
<div class="section level4">
<h4 id="prerequisites-1">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites-1"></a></h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># Ensure Node.js is installed</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="ex">node</span> <span class="at">--version</span>  <span class="co"># Should be &gt;= 18.x</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="ex">npm</span> <span class="at">--version</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="environment-variables">Environment Variables<a class="anchor" aria-label="anchor" href="#environment-variables"></a></h4>
<p>Set these environment variables for MCP servers:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># GitHub token (required for GitHub MCP server)</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="bu">export</span> <span class="va">GITHUB_TOKEN</span><span class="op">=</span><span class="st">"your_github_personal_access_token"</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="co"># Brave API key (optional, for web search)</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="bu">export</span> <span class="va">BRAVE_API_KEY</span><span class="op">=</span><span class="st">"your_brave_api_key"</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="using-mcp-with-github-copilot">Using MCP with GitHub Copilot<a class="anchor" aria-label="anchor" href="#using-mcp-with-github-copilot"></a></h4>
<p>MCP is automatically detected by GitHub Copilot in VS Code when the configuration file is present in <code>.github/mcp/mcp-config.json</code>.</p>
<p>See <a href="mcp/README.html">.github/mcp/README.md</a> for detailed setup instructions.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="development-workflow">Development Workflow<a class="anchor" aria-label="anchor" href="#development-workflow"></a></h2>
<div class="section level3">
<h3 id="id_1-load-the-package">1. Load the Package<a class="anchor" aria-label="anchor" href="#id_1-load-the-package"></a></h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">load_all</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This loads the package in development mode, making all functions available for testing.</p>
</div>
<div class="section level3">
<h3 id="id_2-make-code-changes">2. Make Code Changes<a class="anchor" aria-label="anchor" href="#id_2-make-code-changes"></a></h3>
<p>Edit R source files in the <code>R/</code> directory. Follow the <a href="#code-style-guidelines">code style guidelines</a>.</p>
</div>
<div class="section level3">
<h3 id="id_3-document-your-changes">3. Document Your Changes<a class="anchor" aria-label="anchor" href="#id_3-document-your-changes"></a></h3>
<p>After modifying roxygen2 comments:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">document</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>Important:</strong> Never edit files in <code>man/</code> or <code>NAMESPACE</code> directly. They are auto-generated.</p>
</div>
<div class="section level3">
<h3 id="id_4-test-your-changes">4. Test Your Changes<a class="anchor" aria-label="anchor" href="#id_4-test-your-changes"></a></h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run all tests</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">test</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run specific test file</span></span>
<span><span class="fu">testthat</span><span class="fu">::</span><span class="fu"><a href="https://testthat.r-lib.org/reference/test_file.html" class="external-link">test_file</a></span><span class="op">(</span><span class="st">"tests/testthat/test-your-feature.R"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_5-check-code-quality">5. Check Code Quality<a class="anchor" aria-label="anchor" href="#id_5-check-code-quality"></a></h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Lint your code</span></span>
<span><span class="fu">lintr</span><span class="fu">::</span><span class="fu">lint_package</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Spell check</span></span>
<span><span class="fu">spelling</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/spelling//reference/spell_check_package.html" class="external-link">spell_check_package</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_6-run-r-cmd-check">6. Run R CMD Check<a class="anchor" aria-label="anchor" href="#id_6-run-r-cmd-check"></a></h3>
<p>Before committing:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">check</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This runs the full package validation suite (takes 5-10 minutes).</p>
</div>
<div class="section level3">
<h3 id="id_7-update-documentation">7. Update Documentation<a class="anchor" aria-label="anchor" href="#id_7-update-documentation"></a></h3>
<p>If you edited <code>README.Rmd</code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html" class="external-link">render</a></span><span class="op">(</span><span class="st">"README.Rmd"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_8-commit-your-changes">8. Commit Your Changes<a class="anchor" aria-label="anchor" href="#id_8-commit-your-changes"></a></h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Your descriptive commit message"</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="fu">git</span> push</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="testing-and-quality-assurance">Testing and Quality Assurance<a class="anchor" aria-label="anchor" href="#testing-and-quality-assurance"></a></h2>
<div class="section level3">
<h3 id="test-structure">Test Structure<a class="anchor" aria-label="anchor" href="#test-structure"></a></h3>
<p>Tests are in <code>tests/testthat/</code> and use testthat 3.0+ with snapshot testing.</p>
</div>
<div class="section level3">
<h3 id="writing-tests">Writing Tests<a class="anchor" aria-label="anchor" href="#writing-tests"></a></h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">test_that</span><span class="op">(</span><span class="st">"your feature works correctly"</span>, <span class="op">{</span></span>
<span>  <span class="co"># Use seed for reproducible tests</span></span>
<span>  <span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/with_seed.html" class="external-link">local_seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Your test code</span></span>
<span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">your_function</span><span class="op">(</span><span class="va">input</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Assertions</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="va">result</span>, <span class="va">expected_value</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="snapshot-testing">Snapshot Testing<a class="anchor" aria-label="anchor" href="#snapshot-testing"></a></h3>
<p>For MCMC output validation:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">test_that</span><span class="op">(</span><span class="st">"JAGS output is consistent"</span>, <span class="op">{</span></span>
<span>  <span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/with_seed.html" class="external-link">local_seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">output</span> <span class="op">&lt;-</span> <span class="fu">run_jags_model</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Create snapshot</span></span>
<span>  <span class="fu">expect_snapshot_value</span><span class="op">(</span><span class="va">output</span>, style <span class="op">=</span> <span class="st">"json2"</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="platform-specific-tests">Platform-Specific Tests<a class="anchor" aria-label="anchor" href="#platform-specific-tests"></a></h3>
<p>Use <code>variant</code> for platform-specific snapshots:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">expect_snapshot_value</span><span class="op">(</span></span>
<span>  <span class="va">platform_dependent_output</span>,</span>
<span>  variant <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.info.html" class="external-link">Sys.info</a></span><span class="op">(</span><span class="op">)</span><span class="op">[[</span><span class="st">"sysname"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="continuous-integration">Continuous Integration<a class="anchor" aria-label="anchor" href="#continuous-integration"></a></h3>
<p>All PRs must pass these checks:</p>
<ul><li>‚úÖ R CMD check (Ubuntu, macOS, Windows)</li>
<li>‚úÖ Linting (changed files only)</li>
<li>‚úÖ Test coverage</li>
<li>‚úÖ Spelling</li>
<li>‚úÖ Documentation sync</li>
<li>‚úÖ NEWS.md updated</li>
<li>‚úÖ Version incremented</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="code-style-guidelines">Code Style Guidelines<a class="anchor" aria-label="anchor" href="#code-style-guidelines"></a></h2>
<div class="section level3">
<h3 id="general-principles">General Principles<a class="anchor" aria-label="anchor" href="#general-principles"></a></h3>
<ul><li>Follow the <a href="https://style.tidyverse.org" class="external-link">tidyverse style guide</a>
</li>
<li>Use native pipe <code>|&gt;</code> (not <code>%&gt;%</code>)</li>
<li>Use snake_case for naming (acronyms may be uppercase, e.g., <code>prep_IDs</code>)</li>
<li>Two spaces for indentation (no tabs)</li>
<li>Maximum line length: 80 characters (soft), 100 characters (hard)</li>
</ul></div>
<div class="section level3">
<h3 id="function-documentation">Function Documentation<a class="anchor" aria-label="anchor" href="#function-documentation"></a></h3>
<p>Use roxygen2 for all exported functions:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Brief function description</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' Detailed description of what the function does.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param x Description of parameter x</span></span>
<span><span class="co">#' @param y Description of parameter y</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @returns Description of return value</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' your_function(1, 2)</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">your_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Function body</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="user-facing-messages">User-Facing Messages<a class="anchor" aria-label="anchor" href="#user-facing-messages"></a></h3>
<p>Use <code>cli</code> package functions:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Information</span></span>
<span><span class="fu">cli</span><span class="fu">::</span><span class="fu"><a href="https://cli.r-lib.org/reference/cli_abort.html" class="external-link">cli_inform</a></span><span class="op">(</span><span class="st">"Operation completed"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Warning</span></span>
<span><span class="fu">cli</span><span class="fu">::</span><span class="fu"><a href="https://cli.r-lib.org/reference/cli_abort.html" class="external-link">cli_warn</a></span><span class="op">(</span><span class="st">"Potential issue detected"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Error</span></span>
<span><span class="fu">cli</span><span class="fu">::</span><span class="fu"><a href="https://cli.r-lib.org/reference/cli_abort.html" class="external-link">cli_abort</a></span><span class="op">(</span><span class="st">"Operation failed"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Never use</strong> <code><a href="https://rdrr.io/r/base/message.html" class="external-link">message()</a></code>, <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning()</a></code>, or <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code> in package code.</p>
</div>
<div class="section level3">
<h3 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a></h3>
<ul><li>Use <code>::</code> to call functions from other packages</li>
<li>Don‚Äôt use <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> or <code><a href="https://rdrr.io/r/base/library.html" class="external-link">require()</a></code> in package code</li>
<li>Add dependencies to DESCRIPTION (Imports or Suggests)</li>
</ul></div>
<div class="section level3">
<h3 id="avoid-code-duplication">Avoid Code Duplication<a class="anchor" aria-label="anchor" href="#avoid-code-duplication"></a></h3>
<p>Don‚Äôt copy-paste code. Instead, create helper functions:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Bad - duplicated code</span></span>
<span><span class="va">result1</span> <span class="op">&lt;-</span> <span class="fu">transform_data</span><span class="op">(</span><span class="va">data1</span>, param <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></span>
<span><span class="va">result2</span> <span class="op">&lt;-</span> <span class="fu">transform_data</span><span class="op">(</span><span class="va">data2</span>, param <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Good - extract common pattern</span></span>
<span><span class="va">process_with_param_a</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">transform_data</span><span class="op">(</span><span class="va">data</span>, param <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">result1</span> <span class="op">&lt;-</span> <span class="fu">process_with_param_a</span><span class="op">(</span><span class="va">data1</span><span class="op">)</span></span>
<span><span class="va">result2</span> <span class="op">&lt;-</span> <span class="fu">process_with_param_a</span><span class="op">(</span><span class="va">data2</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a></h2>
<div class="section level3">
<h3 id="pull-request-checklist">Pull Request Checklist<a class="anchor" aria-label="anchor" href="#pull-request-checklist"></a></h3>
<p>Before submitting a PR, ensure:</p>
<ul class="task-list"><li><label><input type="checkbox">Tests pass locally (<code>devtools::test()</code>)</label></li>
<li><label><input type="checkbox">R CMD check passes (<code>devtools::check()</code>)</label></li>
<li><label><input type="checkbox">Code is linted (<code>lintr::lint_package()</code>)</label></li>
<li><label><input type="checkbox">Spelling is correct (<code><a href="https://docs.ropensci.org/spelling//reference/spell_check_package.html" class="external-link">spelling::spell_check_package()</a></code>)</label></li>
<li><label><input type="checkbox">Documentation is up to date (<code>devtools::document()</code>)</label></li>
<li><label><input type="checkbox">README.md is updated (if you edited README.Rmd)</label></li>
<li><label><input type="checkbox">NEWS.md has an entry for your changes</label></li>
<li><label><input type="checkbox">DESCRIPTION version is incremented (<code><a href="https://usethis.r-lib.org/reference/use_version.html" class="external-link">usethis::use_version()</a></code>)</label></li>
</ul></div>
<div class="section level3">
<h3 id="getting-help">Getting Help<a class="anchor" aria-label="anchor" href="#getting-help"></a></h3>
<ul><li>üìñ See <code>.github/copilot-instructions.md</code> for comprehensive repository guidance</li>
<li>üêõ Report bugs via GitHub Issues</li>
<li>üí¨ Ask questions in GitHub Discussions</li>
<li>üìß Contact maintainers (see DESCRIPTION file)</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a></h2>
<ul><li>
<a href="https://r-pkgs.org/" class="external-link">R Packages Book</a> - Comprehensive guide to R package development</li>
<li>
<a href="https://style.tidyverse.org" class="external-link">tidyverse Style Guide</a> - R code style conventions</li>
<li>
<a href="https://testthat.r-lib.org/" class="external-link">testthat Documentation</a> - Testing framework</li>
<li>
<a href="https://roxygen2.r-lib.org/" class="external-link">roxygen2 Documentation</a> - Documentation generation</li>
<li>
<a href="https://devtools.r-lib.org/" class="external-link">devtools Documentation</a> - Package development tools</li>
<li>
<a href="https://mcmc-jags.sourceforge.io/" class="external-link">JAGS Documentation</a> - Bayesian MCMC with JAGS</li>
</ul></div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a></h2>
<p>See <a href="LICENSE.html">LICENSE.md</a> for license information.</p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Peter Teunis, Samuel Schildhauer, Kristen Aiemjoy, Douglas Ezra Morrison.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.9000.</p>
</div>

    </footer></div>





  </body></html>

